<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Challenges</title>

    <script>
        function getChallenges() {
            fetch("https://codecyprus.org/th/test-api/list?number-of-ths=2")
                .then(response => response.json()) //Parse JSON text to JavaScript object
                .then(jsonObject => {
                    console.log(jsonObject);

                    let array = jsonObject.treasureHunts;



                    for(let i=0; i<array.length; i++){
                        let uuid = array[i].uuid;
                        let listItem = document.createElement("li");

                        listItem.innerHTML =  "<a href='https://codecyprus.org/th/test-api/start?player=Jacobs&app=Team2&treasure-hunt-id="+uuid+"'>" + array[i].name + "</a>";

                        list.appendChild(listItem);
                    }
                    console.log(array);
                });

        }
    </script>

</head>
<body>

<h1>All Challenges</h1>
<ul id="challenges"></ul>
<script>
    let list = document.getElementById("challenges");
    getChallenges(list);
</script>

</body>
</html>